<Window x:Class="PomodoroApp.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:wv2="clr-namespace:Microsoft.Web.WebView2.Wpf;assembly=Microsoft.Web.WebView2.Wpf"
		ShowInTaskbar="False"
        Title="Pomodoro" Height="500" Width="350"
        ResizeMode="CanResize" WindowStartupLocation="CenterScreen">

    <Grid>
        <!-- On découpe la fenêtre en 2 zones -->
        <Grid.RowDefinitions>
            <RowDefinition Height="100"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- ZONE DU HAUT : Le Lecteur -->
        <wv2:WebView2 x:Name="MusicPlayer" 
                      Grid.Row="0" 
                      HorizontalAlignment="Stretch" 
                      VerticalAlignment="Stretch"/>

        <!-- LE CADRAN DU TIMER -->
        <Grid Width="200" Height="200" 
              Grid.Row="1"
                  HorizontalAlignment="Center" 
                  VerticalAlignment="Center"
                  Margin="0,0,0,30">

            <!-- Cercle blanc de fond -->
            <Ellipse Stroke="Black" StrokeThickness="2" Fill="White" />

            <!-- Canvas qui recevra les traits et chiffres -->
            <Canvas x:Name="ClockCanvas" Width="200" Height="200" />

            <!-- L'Aiguille -->

            <Line x:Name="ClockHand"
                      X1="100" Y1="100"
                      X2="100" Y2="20"
                      Stroke="Red" StrokeThickness="2"
                      StrokeEndLineCap="Round">
                <Line.RenderTransform>
                    <!-- Le point de pivot -->
                    <RotateTransform x:Name="HandRotation" 
                                         CenterX="100" CenterY="100" 
                                         Angle="0"/>
                </Line.RenderTransform>
            </Line>

            <!-- Petit point rouge au centre (cache la base de l'aiguille) -->
            <Ellipse Width="8" Height="8" Fill="Red" 
                         HorizontalAlignment="Center" VerticalAlignment="Center"/>
        </Grid>

        <!-- Placé en bas du cadran -->
        <Label x:Name="frontTimer"
               Grid.Row="1"
                   Content="00:00"
                   FontSize="28"
                   FontWeight="Bold"
                   HorizontalAlignment="Center"
                   VerticalAlignment="Bottom"
                   Margin="0,0,0,50"/>

        <!-- BOUTON START/PAUSE -->
        <Button x:Name="StartPauseButton"
                Grid.Row="1"
                    Content="Start"
                    Width="120" Height="35"
                    FontSize="14"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Bottom"
                    Margin="0,0,0,10"
                    Click="StartClick"/>
    </Grid>
</Window>
